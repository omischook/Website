"use strict";var Panopto=Panopto||{};Panopto.UI=Panopto.UI||{},Panopto.UI.Session=Panopto.UI.Session||{},Panopto.Util=Panopto.Util||{},Panopto.UI.Session.actionButtons=function(e,t,a,o,i){PanoptoCore.Logging.Logger;var s="<@ _.each(actions, function (action) { @><a href='<@- action.href @>'"+(i.showLabels?" <@ if (action.tooltip) { @> title='<@- action.tooltip @>' <@ } @>":" title='<@- action.title @>'")+" aria-label='<@- action.title @>' class='<@- action.cssClass @> session-action' target='<@- action.newTab ? '_blank' : '_self' @>' tabindex='0'><i class='action-icon material-icons'></i>"+(i.showLabels?"<div class='action-label'><@- action.title @></div>":"")+"</a><@ }); @>";i.availableActions=i.availableActions||[],i.deleteTitle=i.deleteTitle||Panopto.GlobalResources.Delete;var n=o?parent.Panopto.Application.defaultInstance:Panopto.Application.defaultInstance,l={id:"Stats",title:Panopto.GlobalResources.StatsTitle,cssClass:"stats-action"};const r={};a.isBroadcasting?r.webcastId=a.deliveryId:r.sessionId=a.deliveryId,Panopto.teamsApp?.isFromTeams?(l.newTab=!0,l.href=Panopto.Core.StringHelpers.setQueryParameters((new PanoptoTS.Locations).getAnalyticsDashboardUrl(r),{embedded:Panopto.Data.EmbeddedView.None,isFromTeams:!1})):l.href=(new PanoptoTS.Locations).getAnalyticsDashboardUrl(r);var c=[{id:"JoinWebcast",title:Panopto.GlobalResources.Sessions_List_Join_Webcast,cssClass:"join-webcast-action",href:(new PanoptoTS.Locations).getCaptureLiveSessionUrl(a.deliveryId,!0),newTab:!0},{id:"JoinRecording",title:Panopto.GlobalResources.Sessions_List_Join_Recording,cssClass:"join-recording-action",href:(new PanoptoTS.Locations).getCaptureLiveSessionUrl(a.deliveryId,!1),newTab:!0},{id:"Settings",title:Panopto.GlobalResources.Settings,cssClass:"settings-action",activate:function(){n.updateState({modalPage:"SessionInfo",modalHeader:Panopto.Core.TextHelpers.innerText(a.name),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:a.deliveryId})})}},{id:"Manage",title:Panopto.GlobalResources.Manage,cssClass:"manage-action",activate:function(){n.updateState({modalPage:"SessionManage",modalHeader:Panopto.Core.TextHelpers.innerText(a.name),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:a.deliveryId})})}},{id:"Share",title:Panopto.GlobalResources.Share,cssClass:"share-action",activate:function(){n.updateState({modalPage:"SessionShare",modalHeader:Panopto.Core.TextHelpers.innerText(a.name),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:a.deliveryId})})}},{id:"Edit",href:a.editorUrl,title:Panopto.GlobalResources.Edit,cssClass:"edit-action",newTab:!0},l,{id:"Publish",title:Panopto.GlobalResources.Sessions_List_Publish,tooltip:Panopto.GlobalResources.Sessions_List_PublishTooltip,cssClass:"publish-action",activate:function(){i.publishActivate()}},{id:"Notes",title:Panopto.GlobalResources.Sessions_List_TakeNotes,cssClass:"notes-action",activate:function(){window.open(a.notesUrl,"notes","width=378,height=800").focus()}},{id:"View",href:a.viewerUrl,title:Panopto.GlobalResources.View,cssClass:"view-action",newTab:!0},{id:"Delete",title:i.deleteTitle,cssClass:"delete-action",activate:function(){i.deleteActivate&&i.deleteActivate()}},{id:"Log",title:Panopto.GlobalResources.Log,cssClass:"log-action",activate:function(){Panopto.Application.defaultInstance.updateState({modalPage:"SessionLog",modalHeader:Panopto.Core.TextHelpers.innerText(a.name),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:a.deliveryId})})}},{id:"Restore",title:Panopto.GlobalResources.Restore,cssClass:"restore-action",activate:function(){i.restoreActivate&&i.restoreActivate()}},{id:"RestoreFromArchive",title:Panopto.GlobalResources.RestoreFromArchive,cssClass:"restore-from-archive-action",activate:function(){i.restoreFromArchiveActivate&&i.restoreFromArchiveActivate()}},{id:"RemovePermanently",title:Panopto.GlobalResources.RemovePermanently,cssClass:"remove-permanently-action",activate:function(){i.removePermanentlyActivate&&i.removePermanentlyActivate()}},{id:"ArchivedLog",title:Panopto.GlobalResources.Log,cssClass:"log-action",activate:function(){Panopto.Application.defaultInstance.updateState({modalPage:"ArchivedSessionLog",modalHeader:Panopto.Core.TextHelpers.innerText(a.name),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:a.deliveryId})})}}];_.each(c,(function(e){e.hasOwnProperty("available")||(e.available=_.contains(i.availableActions,e.id))}));var d=_.filter(c,(function(e){return e.available}));t.html(_.template(s)({actions:d})),t.addClass(i.listCss),_.each(d,(function(e){e.hasOwnProperty("href")||Panopto.Core.UI.Handlers.button(t.find("."+e.cssClass),(function(){e.activate()}))})),i.overrideDefaultHover||Panopto.Core.UI.Handlers.hoverableParent(e,t),t.find(".action-icon").mouseenter((function(){var e=$(this).parent().find(".action-label");e.length&&$(this).attr("title",e.is(":visible")?"":e.text())}))};
//# sourceMappingURL=file://engfs.d.panopto.com/share/jenkinsbuilds/rel_rtc_14.13.0/14.13.0.00021/_PublishedWebsites/WebUI/Scripts/Panopto/UI/Session.js.map
